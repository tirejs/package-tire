/*!
 * tire.js
 * Copyright (c) 2012-2013 Fredrik Forsmo
 * Version: 1.1.1
 * Released under the MIT License.
 */
(function(e,t){function h(e){try{return e?(c.isPlainObject(e)||c.isArray(e))&&JSON.stringify?JSON.stringify(e):e:e}catch(t){return e}}function p(e){var t;try{return e?e==="true"||(e==="false"?!1:e==="null"?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?c.parseJSON(e):e:t):e}catch(n){return e}}function d(e,t){var r="";return n.defaultView&&n.defaultView.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r=n.defaultView.getComputedStyle(e,"").getPropertyValue(t)):e.currentStyle?r=e.currentStyle[t]:r=e.style[t],r?r:""}function m(e){var t=n.createElement("div");return c.isString(e)||c.isNumeric(e)?t.innerHTML=e:t.appendChild(e),t}function b(e){return e._eventId||(e._eventId=g++)}function w(e,t){return y[e]=y[e]||{},y[e][t]=y[e][t]||[]}function E(e,t,n){var r=b(e),i=w(r,t),s=function(t){n.call(e,t)===!1&&(t.preventDefault(),t.stopPropagation())};return s.guid=n.guid=n.guid||++g,i.push(s),s}function S(e,t,n){var r=E(e,t,n);e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)}function x(e,n,r){var i=b(e),s=w(i,n);for(var o=0;o<s.length;o++)if(r===t||r.guid===s[o].guid){if(e.removeEventListener)e.removeEventListener(n,s[o],!1);else if(e.detachEvent){var u="on"+n;c.isString(e[u])&&(e[u]=null),e.detachEvent(u,s[o])}y[i][n].remove(o,1)}delete y[i]}function T(e,t){c.each(e.split(" "),function(e,n){t(n)})}function N(r,i){var s=(s=/callback\=([A-Za-z0-9\-\.]+)/.exec(r))?s[1]:"jsonp"+ +(new Date),o=n.createElement("script");o.onerror=function(){c(o).remove();try{delete e[s]}catch(n){e[s]=t}c.isFun(i.error)&&i.error("abort")},e[s]=function(n){c(o).remove();try{delete e[s]}catch(r){e[s]=t}C(n,null,i)},i.data=c.param(i.data),o.src=r.replace(/\=\?/,"="+s),c("head")[0].appendChild(o)}function C(e,t,n){var r;t&&((n.dataType==="json"||!1)&&(r=c.parseJSON(t.responseText))===null&&(r=t.responseText),n.dataType==="xml"&&(r=t.responseXML),r=r||t.responseText),!r&&e&&(r=e),c.isFunction(n.success)&&n.success(r)}var n=e.document,r=e.tire,i=e.$,s=/^#[\w\-]+$/,o=/^\.[\w\-]+$/,u=/^[\w\-]+$/,a=/<([\w:]+)/,f=[].slice;Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,n)};try{f.call(n.documentElement.childNodes,0)[0].nodeType}catch(l){f=function(e){e=e||0;var t,n=[];for(;t=this[e];e++)n.push(t);return n}}var c=function(e,t){return new c.fn.find(e,t)};c.fn=c.prototype={length:0,extend:function(e){for(var t in e)this[t]=e[t]},find:function(r,i){var l=[],h;if(!r)return this;if(c.isFunction(r))return c.ready(r);if(r.nodeType)return this.selector="",this.context=r,this.set([r]);if(r.length===1&&r[0].nodeType)return this.selector=r.selector,this.context=r[0],this.set(r);i=this.context?this.context:i||n,c.isPlainObject(i)&&(h=i,i=n);if(c.isString(r)){this.selector=r;if(s.test(r)&&i.nodeType===i.DOCUMENT_NODE)l=(l=i.getElementById(r.substr(1)))?[l]:[];else if(i.nodeType!==1&&i.nodeType!==9)l=[];else if(a.test(r)){var p=i.createElement("div");p.innerHTML=r,this.each.call(f.call(p.childNodes,0),function(){l.push(this)})}else l=f.call(o.test(r)&&i.getElementsByClassName!==t?i.getElementsByClassName(r.substr(1)):u.test(r)?i.getElementsByTagName(r):i.querySelectorAll(r))}else r.nodeName||r===e?l=[r]:c.isArray(r)&&(l=r);return r.selector!==t?(this.selector=r.selector,this.context=r.context):this.context===t&&(l[0]!==t&&!c.isString(l[0])?this.context=l[0]:this.context=n),this.set(l).each(function(){return h&&$(this).attr(h)})},pluck:function(e){var t=[];return this.each(function(){this[e]&&t.push(this[e])}),t},each:function(e,t){var n,r;typeof e=="function"&&(t=e,e=this);if(e===this||e instanceof Array){for(n=0;n<e.length;++n)if(t.call(e[n],n,e[n])===!1)break}else for(r in e)if(e.hasOwnProperty(r)&&t.call(e[r],r,e[r])===!1)break;return e},set:function(e){var t=0;for(;t<e.length;t++)this[t]=e[t];return this.length=t,this}},c.extend=function(){var e=arguments[0]||{};return typeof e!="object"&&typeof e!="function"&&(e={}),arguments.length===1&&(e=this),c.fn.each(f.call(arguments),function(t,n){for(var r in n)e[r]!==n[r]&&(e[r]=n[r])}),e},c.fn.find.prototype=c.fn,c.extend({slice:f,each:c.fn.each,trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},matches:function(e,r){if(!e||e.nodeType!==1)return!1;var i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(i)return i.call(e,r);if(n.querySelectorAll!==t){var s=e.parentNode.querySelectorAll(r);for(var o=0;o<s.length;o++)if(s[o]===e)return!0}return!1},isFunction:function(e){return typeof e=="function"},isArray:function(e){return e instanceof Array},isString:function(e){return typeof e=="string"},isNumeric:function(e){return typeof e=="number"},isObject:function(e){return e instanceof Object&&!this.isArray(e)&&!this.isFunction(e)&&!this.isWindow(e)},isPlainObject:function(e){if(!e||!this.isObject(e)||this.isWindow(e)||e.nodeType)return!1;if(e.__proto__===Object.prototype)return!0;var n;for(n in e);return n===t||{}.hasOwnProperty.call(e,n)},isWindow:function(e){return e!==null&&e!==t&&(e===e.window||"setInterval"in e)},parseJSON:function(t){if(!this.isString(t)||!t)return null;t=this.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);try{return(new Function("return "+t))()}catch(n){return null}},noConflict:function(t){return t&&(e.tire=r),e.$=i,c}}),c.fn.extend({addClass:function(e){if(e&&c.isString(e))return this.each(function(t,n){if(n.nodeType===1){var r=e.split(/\s+/);if(!n.className&&r.length===1)n.className=e;else{var i=n.className;for(var s=0;s<r.length;s++)i.indexOf(r[s])===-1&&(i+=" "+r[s]);n.className=c.trim(i)}}})},removeClass:function(e){return this.each(function(t,n){if(e&&c.isString(e)){var r=e.split(/\s+/);if(n.nodeType===1&&n.className){if(r.length===1)n.className=n.className.replace(e,"");else for(var i=0;i<r.length;i++)n.className=n.className.replace(r[i],"");n.className=c.trim(n.className.replace(/\s{2}/g," ")),n.className===""&&n.removeAttribute("class")}}})},hasClass:function(e){var t=(this[0]?this[0]:this).className.split(/\s+/),n=e.split(/\s+/),r=0;if(n.length>1){var i=!1;for(r=0;r<n.length;r++)i=this.hasClass.call(this,n[r]);return i}if(c.isString(e)){for(r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}},attr:function(e,n){if(c.isObject(e))return this.each(function(){for(var t in e)this.setAttribute&&this.setAttribute(t,e[t]===null?e[t]+"":e[t])});if((n||n===null||n===!1)&&c.isString(e))return this.each(function(){this.setAttribute&&this.setAttribute(e,n===null?n+"":n)});if(c.isString(e)){var r;for(var i=0;i<this.length;i++){if(this[i].getAttribute!==t&&(r=this[i].getAttribute(e))!==null)break;continue}return r}},data:function(e,t){return t=this.attr("data-"+e,h(t)),t instanceof c?t:p(t)},removeAttr:function(e){return this.each(function(){if(e&&this.nodeType===1){var t=e.split(/\s+/);for(var n=0;n<t.length;n++)this.removeAttribute(t[n])}})}}),c.fn.extend({css:function(e,n){return c.isString(e)&&n===t?this.length>0?d(this[0],e):t:this.each(function(){if(this.style!==t)if(c.isString(e))this.style[e]=n;else for(var r in e)this.style[r]=e[r]})},hide:function(){return this.css("display","none")},show:function(){return this.each(function(){if(this.style!==t){try{this.style.display==="none"&&(this.style.display=null)}catch(e){}d(this,"display")==="none"&&(this.style.display="block")}})}});var v=function(){function u(){t?n.removeEventListener("DOMContentLoaded",u,!1):n.readyState==="complete"&&n.detachEvent("onreadystatechange",u),f()}function a(){if(r)return;try{s.doScroll("left")}catch(e){setTimeout(a,10)}f()}function f(){if(r)return;r=!0;for(var e=0;e<o.length;e++)o[e].call(n,c)}var t=!!n.addEventListener,r=!1,i=!1,s=n.documentElement,o=[];return t?(n.addEventListener("DOMContentLoaded",u,!0),e.addEventListener("load",f,!1)):(n.attachEvent("onreadystatechange",u),e.attachEvent("onload",f),s.doScroll&&e===e.top&&a()),function(e){return r?e.call(n,c):o.push(e)}}();c.ready=c.fn.ready=v,c.fn.extend({is:function(e){return this.length>0&&c.matches(this[0],e)},closest:function(e,t){var n=this[0];while(n&&!c.matches(n,e)){n=n.parentNode;if(!n||!n.ownerDocument||n===t||n.nodeType===11)break}return c(n)},parent:function(e){var n=this.pluck("parentNode");return e===t?c(n):c(n).filter(e)},children:function(e){var n=[];return this.each(function(){c.each(c.slice.call(this.children,0),function(e,t){n.push(t)})}),e===t?c(n):c(n).filter(e)},text:function(e){return e===t?this.length>0?this[0].textContent===t?this[0].innerText:this[0].textContent:null:this.each(function(){this.textContent=e})},val:function(e){return arguments.length?this.each(function(){if(this.nodeType!==1)return;e===null||e===t?e="":c.isNumeric(e)&&(e+=""),this.value=e}):this.length>0?this[0].multiple?this.find("option").filter(function(){return this.selected}).pluck("value"):this[0].value:null},empty:function(){return this.each(function(){this.innerHTML=""})},html:function(e,t){if(arguments.length===0)return this.length>0?this[0].innerHTML:null;t=t||"inner";if(e instanceof c){var n=this;return e.each(function(e,r){n.html.call(n,r,t)})}return this.each(function(){if(t==="inner")c.isString(e)||c.isNumeric(e)?this.innerHTML=e:(this.innerHTML="",this.appendChild(e));else if(t==="remove")this.parentNode.removeChild(this);else{var n=m(e),r=n.childNodes,i;t==="prepend"?this.insertBefore(n,this.firstChild):t==="append"?this.insertBefore(n,null):t==="before"?this.parentNode.insertBefore(n,this):t==="after"&&this.parentNode.insertBefore(n,this.nextElementSibling?this.nextElementSibling:this.nextSibling),i=n.parentNode;while(r.length)i.insertBefore(r[0],n);i.removeChild(n)}})}}),c.each(["prepend","append","before","after","remove"],function(e,t){c.fn[t]=function(e){return function(t){return this.html(t,e)}}(t)}),c.fn.extend({filter:function(e){if(c.isFunction(e)){var t=[];return this.each(function(n,r){e.call(r,n)&&t.push(r)}),c(t)}return this.filter(function(){return c.matches(this,e)})},not:function(e){return this.filter(function(){return!c.matches(this,e)})},eq:function(e){return e===-1?c(f.call(this,this.length-1)):c(f.call(this,e,e+1))},get:function(e){return e===t?f.call(this):this[e>=0?e:e+this.length]},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),c(e)}});var g=1,y={};c.events=c.events||{},c.fn.extend({on:function(e,t){return this.each(function(){var n=this;T(e,function(e){S(n,e,t)})})},off:function(e,t){return this.each(function(){var n=this;T(e,function(e){x(n,e,t)})})},trigger:function(e,t){return this.each(function(r,i){i===n&&!i.dispatchEvent&&(i=n.documentElement);var s,o=!!n.createEvent;o?(s=n.createEvent("HTMLEvents"),s.initEvent(e,!0,!0)):(s=n.createEventObject(),s.cancelBubble=!0),s.data=t||{},s.eventName=e;if(o)i.dispatchEvent(s);else try{i.fireEvent("on"+e,s)}catch(u){i.attachEvent("onpropertychange",function(t){if(t.eventName===e&&t.srcElement._eventId){var n=w(t.srcElement._eventId,t.eventName);if(n.length)for(var r=0;r<n.length;r++)n[r](t)}}),i.fireEvent("onpropertychange",s)}})}}),c.fn.extend({ajax:function(n,r){r=r||{},c.isObject(n)&&(c.isFunction(r)&&(n.success=n.success||r),r=n,n=r.url),c.isFunction(r)&&(r={success:r}),r.dataType=(r.dataType||"").toLowerCase();if(!n)return;var i=this,s=(r.type||"GET").toUpperCase(),o=r.data||null,u=r.dataType==="jsonp"||!1,a,f={html:"text/html",text:"text/plain",xml:"application/xml, text/xml",json:"application/json"};e.XMLHttpRequest?a=new XMLHttpRequest:e.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP"));for(var l in f)n.indexOf("."+l)!==-1&&!r.dataType&&(r.dataType=l);if(u||/\=\?|callback\=/.test(n))return/\=\?/.test(n)||(n=(n+"&callback=?").replace(/[&?]{1,2}/,"?")),N(n,r),this;if(a){a.queryString=o,a.open(s,n,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),(f=f[r.dataType])!==t&&(a.setRequestHeader("Accept",f),f.indexOf(",")!==-1&&(f=f.split(",")[0]),a.overrideMimeType&&a.overrideMimeType(f)),(r.contentType||r.data&&s!=="GET")&&a.setRequestHeader("Content-Type",r.contentType||"application/x-www-form-urlencoded");for(var h in r.headers)r.headers.hasOwnProperty(h)&&a.setRequestHeader(h,r.headers[h]);a.onreadystatechange=function(){a.readyState===4&&(a.status>=200&&a.status<300||a.status===304?r.success!==t&&C(null,a,r):r.error!==t&&r.error(a,r))},a.send(c.param(o))}return this}}),c.extend({ajax:c.fn.ajax,param:function(e,t){var n=[];return this.each(e,function(e,r){var i=t?t+"["+e+"]":e;n.push(c.isObject(r)?c.param(r,i):encodeURIComponent(i)+"="+encodeURIComponent(r))}),n.join("&").replace("%20","+")}}),e.$=e.tire=c,typeof define=="function"&&define.amd&&define("tire",[],function(){return c})})(window);